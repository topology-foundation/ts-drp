syntax = "proto3";
package drp.node.v1;

service DrpRpcService {
  rpc SubscribeDRP(SubscribeDRPRequest) returns (GenericResponse);
  rpc UnsubscribeDRP(UnsubscribeDRPRequest) returns (GenericResponse);
  rpc GetDRPHashGraph(GetDRPHashGraphRequest) returns (GetDRPHashGraphResponse);
  rpc SyncDRPObject(SyncDRPObjectRequest) returns (GenericResponse);
  rpc SendCustomMessage(SendCustomMessageRequest) returns (GenericResponse);
  rpc SendGroupMessage(SendGroupMessageRequest) returns (GenericResponse);
  rpc AddCustomGroup(AddCustomGroupRequest) returns (GenericResponse);
}

message SubscribeDRPRequest {
  string drp_id = 1;
}

message UnsubscribeDRPRequest {
  string drp_id = 1;
}

message GetDRPHashGraphRequest {
  string drp_id = 1;
}

message GetDRPHashGraphResponse {
  // linearized vertices hashes
  repeated string vertices_hashes = 1;
}

message GenericResponse {
  // return error codes if different than 0
  int32 return_code = 1;
}

message SyncDRPObjectRequest {
  string drp_id = 1;
  string peer_id = 2;
}

message SendCustomMessageRequest {
  string peer_id = 1;
  bytes data = 2;
}

message SendGroupMessageRequest {
  string group = 1;
  bytes data = 3;
}

message AddCustomGroupRequest {
  string group = 1;
}
